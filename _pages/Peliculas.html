---
layout: default
title: Pel√≠culas
permalink: /Peliculas/
description: Lista cronol√≥gica de todas las pel√≠culas del archivo hist√≥rico.
comments: true
---

<div class="container" style="max-width: 1000px;">
  <h1>üìΩÔ∏è Todas las pel√≠culas (orden cronol√≥gico)</h1>
  <table id="tabla-peliculas" style="width: 100%; border-collapse: collapse;">
    <thead>
      <tr>
        <th style="border-bottom: 2px solid #333;">A√±o</th>
        <th style="border-bottom: 2px solid #333;">T√≠tulo Original</th>
        <th style="border-bottom: 2px solid #333;">Directores</th>
        <th style="border-bottom: 2px solid #333;">Pa√≠ses</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>


<br>
<br>
<script>
const BASE_URL = "/historiadelcine/assets/js/json_generados/por_a√±o/";
const tablaBody = document.querySelector("#tabla-peliculas tbody");

// Cargar listado de archivos JSON por a√±o
fetch(BASE_URL + "index.json")
  .then(r => r.json())
  .then(archivos => {
    // Cargar todos los archivos por a√±o
    let promesas = archivos.map(nombre =>
      fetch(BASE_URL + nombre)
        .then(r => r.json())
        .catch(() => [])
    );

    Promise.all(promesas).then(resultados => {
      // Aplanar y ordenar por a√±o
      let peliculas = resultados.flat();
      peliculas.sort((a, b) => (a.a√±o || 0) - (b.a√±o || 0));
      mostrarPeliculas(peliculas);
    });
  });

function mostrarPeliculas(peliculas) {
  peliculas.forEach(p => {
    const tr = document.createElement("tr");

    tr.innerHTML = `
      <td>${p.a√±o || "-"}</td>
      <td><a href="${p.post}">${p.titulo_original || "-"}</a></td>
      <td>${(p.directores || []).map(d => `<a href="/Buscador/?dir=${encodeURIComponent(d)}">${d}</a>`).join(", ") || "-"}</td>
      <td>${(p.paises || []).map(pais => `<a href="/Buscador/?pais=${encodeURIComponent(pais)}">${pais}</a>`).join(", ") || "-"}</td>
    `;

    tablaBody.appendChild(tr);
  });
}
</script>


